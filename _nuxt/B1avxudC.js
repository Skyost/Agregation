import{_ as v}from"./BSJfUsJC.js";import{a as B,_ as w}from"./Bm7bFZ1b.js";import{d as $,h as m,k as j,o as _,j as c,b as s,e as i,a,l as r,t as l,c as d,i as N,n as V,w as E,u as A,_ as I}from"./DS-BMl-Q.js";import{_ as P,a as U,b as D}from"./CPXRV682.js";import F from"./CPegqQBa.js";import{u as H}from"./BnPoB-xQ.js";import"./CN0OyOfN.js";const M=["src","alt"],O={class:"title"},R=["textContent"],S={class:"text-muted d-block"},T={key:0},q=["textContent"],z={class:"text-muted d-block mb-2"},G=["textContent"],J=$({__name:"BookCard",props:{book:{}},setup(e){const o=e,u=m(()=>{let n=o.book.title;return o.book.subtitle&&(n+=": "+o.book.subtitle),n}),b=m(()=>o.book.authors.join(", ")),h=m(()=>`[${o.book.short}]`),x=m(()=>`/images/livres/${o.book.isbn10}.jpg`),g=m(()=>{const n=o.book.date.split("-");return`${n[2]}/${n[1]}/${n[0]}`});return(n,t)=>{const p=P,f=F,k=U,C=B,y=D;return _(),j(y,{id:e.book.short,class:"book"},{default:c(()=>[s(p,{cols:"12",md:"4",lg:"3",class:"d-flex align-items-center justify-content-center pt-3 pb-4 pt-md-0 pb-md-0"},{default:c(()=>[i("img",{class:"preview",src:a(x),alt:a(u)},null,8,M)]),_:1}),s(p,{class:"info",cols:"12",md:"8",lg:"9"},{default:c(()=>[i("h2",O,[i("strong",{textContent:l(e.book.title)},null,8,R),r(" "+l(e.book.subtitle),1)]),i("span",S,[r(l(a(b))+" • "+l(a(g))+" • Éditions "+l(e.book.publisher)+" ",1),e.book.edition?(_(),d("span",T,[r("• "+l(e.book.edition),1),t[0]||(t[0]=i("sup",null,"ème",-1)),t[1]||(t[1]=r(" édition",-1))])):N("",!0)]),i("p",{class:"mt-2 comment",textContent:l(e.book.comment)},null,8,q),i("small",z,[t[2]||(t[2]=i("u",null,"Référence :",-1)),t[3]||(t[3]=r()),i("strong",{textContent:l(a(h))},null,8,G),t[4]||(t[4]=r(". ",-1))]),s(C,{class:"mt-2 align-self-start"},{default:c(()=>[s(k,{href:`${e.book.buy}`,variant:"dark"},{default:c(()=>[s(f,{name:"bi:cart"}),t[5]||(t[5]=r(" Acheter le livre ",-1))]),_:1},8,["href"]),s(k,{href:`${e.book.website}`,variant:"secondary"},{default:c(()=>[s(f,{name:"bi:info-circle"}),t[6]||(t[6]=r(" Plus d'informations ",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["id"])}}}),K=Object.assign(V(J,[["__scopeId","data-v-c39d920c"]]),{__name:"CardsBookCard"}),L={key:0},Q={key:1},W={key:2},nt=$({__name:"bibliographie",async setup(e){let o,u;const{data:b,status:h,error:x}=([o,u]=E(()=>H("/_api/bibliography/","$8IEEM9maUU")),o=await o,u(),o);return A({title:"Bibliographie"}),(g,n)=>{const t=v,p=w,f=I;return _(),d("div",null,[a(h)==="pending"?(_(),d("div",L,[s(t)])):a(b)?(_(),d("div",Q,[n[0]||(n[0]=i("h1",null,"Bibliographie",-1)),s(p,{"input-id":"book-search-field",items:a(b),"search-fields":["title","subtitle","short","authors","publisher"]},{default:c(k=>[s(K,{book:k.item},null,8,["book"])]),_:1},8,["items"])])):(_(),d("div",W,[s(f,{error:a(x)},null,8,["error"])]))])}}});export{nt as default};
