import{d as p,G as d,H as _,I as M,J as T,B as P,r as A,K as X,L as q,c as H,f as j,o as D,n as N}from"./DS-BMl-Q.js";const x=Symbol("head-component"),L={body:{type:Boolean,default:void 0},tagPosition:{type:String}},b=o=>{const t=Object.fromEntries(Object.entries(o).filter(([n,l])=>l!==void 0));return typeof t.body<"u"&&(t.tagPosition=t.body?"bodyClose":"head"),typeof t.renderPriority<"u"&&(t.tagPriority=t.renderPriority),t};function g(){return _(x,V,!0)}function V(){const o=_(x,null);if(o)return o;const t=M({}),n=T(t),l={input:t,entry:n};return P(x,l),l}const h={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:{type:[String,Object,Array],default:void 0},contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:{type:[String,Object,Array],default:void 0},tabindex:String,title:String,translate:String,renderPriority:[String,Number],tagPriority:{type:[String,Number]}};p({name:"NoScript",inheritAttrs:!1,props:{...h,...L,title:String},setup(o,{slots:t}){const{input:n}=g();n.noscript||=[];const l=n.noscript.push({})-1;return d(()=>n.noscript[l]=null),()=>{const f=b(o),m=t.default?.(),a=[];if(m)for(const u of m)u.children&&a.push(u.children);return a.length>0&&(f.innerHTML=a.join("")),n.noscript[l]=f,null}}});p({name:"Link",inheritAttrs:!1,props:{...h,...L,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String},setup(o){const{input:t}=g();t.link||=[];const n=t.link.push({})-1;return d(()=>t.link[n]=null),()=>(t.link[n]=b(o),null)}});p({name:"Base",inheritAttrs:!1,props:{...h,href:String,target:String},setup(o){const{input:t}=g();return d(()=>t.base=null),()=>(t.base=b(o),null)}});const $=p({name:"Title",inheritAttrs:!1,setup(o,{slots:t}){const{input:n}=g();return d(()=>n.title=null),()=>{const l=t.default?.();return n.title=l?.[0]?.children?String(l?.[0]?.children):void 0,null}}}),R=p({name:"Meta",inheritAttrs:!1,props:{...h,charset:String,content:String,httpEquiv:String,name:String,property:String},setup(o){const{input:t}=g();t.meta||=[];const n=t.meta.push({})-1;return d(()=>t.meta[n]=null),()=>{const l={"http-equiv":o.httpEquiv,...b(o)};return"httpEquiv"in l&&delete l.httpEquiv,t.meta[n]=l,null}}});p({name:"Style",inheritAttrs:!1,props:{...h,...L,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}},setup(o,{slots:t}){const{input:n}=g();n.style||=[];const l=n.style.push({})-1;return d(()=>n.style[l]=null),()=>{const f=b(o),m=t.default?.()?.[0]?.children;return m&&(n.style[l]=f,f.textContent=m),null}}});p({name:"Html",inheritAttrs:!1,props:{...h,manifest:String,version:String,xmlns:String},setup(o,t){const{input:n}=g();return d(()=>n.htmlAttrs=null),()=>(n.htmlAttrs={...o,...t.attrs},t.slots.default?.())}});const w=["innerHTML"],z=p({__name:"MathDocument",props:{body:{}},setup(o){const t=A(null),n=A(null),l=()=>{const a=document.createElement("li");return a.style.setProperty("content","'(i)'","important"),getComputedStyle(a,"::marker").content==="none"},f=a=>{if(isNaN(a))return null;const u=String(+a).split(""),v=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let S="",C=3;for(;C--;)S=(v[+u.pop()+C*10]||"")+S;return Array(+u.join("")+1).join("M")+S},m=()=>{const a=t.value.querySelectorAll("table");for(const e of a){e.classList.add("table","table-bordered","table-hover");const i=e.parentNode,s=document.createElement("div");s.classList.add("table-responsive"),i.replaceChild(s,e),s.appendChild(e)}if(l()){const e=t.value.querySelectorAll("ol");for(const i of e){i.classList.add("safari-ol-fix");const s=i.querySelectorAll("li");for(let c=0;c<s.length;c++){const r=s[c];r.classList.add("safari-li-fix");const y=`<span class="safari-marker">(${f(c+1).toLowerCase()})</span> `;r.insertAdjacentHTML("afterbegin",y)}}}const u=t.value.querySelectorAll(".bookref");let v=0;for(const e of u){const i=e.firstElementChild;v=Math.max(v,i.offsetWidth)}const S=`${v+15}px`;t.value.style.paddingRight=S;for(const e of u){const i=e.firstElementChild;i.style.right=S}const C=j(),E=(e,i,s=!0)=>{const c=r=>r.classList.contains("property")||r.classList.contains("proposition")||r.classList.contains("lemma")||r.classList.contains("theorem")||r.classList.contains("corollary")||r.classList.contains("definition")||r.classList.contains("notation")||r.classList.contains("example")||r.classList.contains("cexample")||r.classList.contains("application")||r.classList.contains("remark")||r.classList.contains("algorithm");for(;e!=null&&!c(e);)e=(s?e?.previousElementSibling:e?.nextElementSibling)??null;e?.tagName==="DIV"&&(e.style.marginBottom="calc(1.6em + 1rem)",i.style.marginTop="calc(-1.6em - 1rem)")},B=t.value.querySelectorAll(".devlink");for(const e of B){const i=e.nextElementSibling,s=document.createElement("a"),c=`/developpements/${e.textContent.trim()}/`;s.innerText="DÃ©veloppement",s.setAttribute("href",c),s.onclick=r=>{r.preventDefault(),C.push(c)},E(i,s,!1),e.replaceChildren(s),e.nextElementSibling&&e.parentNode?.insertBefore(e.nextElementSibling,e)}const k=t.value.querySelectorAll(".proof");for(let e=0;e<k.length;e++){const i=k[e],s=i.previousElementSibling,c=`proof-${e+1}`,r=document.createElement("details");r.setAttribute("id",c),r.innerHTML=i.outerHTML,i.parentNode?.insertBefore(r,i),i.remove();const y=document.createElement("summary");y.classList.add("proof-label"),y.innerText="Preuve",E(s,y),r.insertBefore(y,r.firstChild)}const I=t.value.querySelectorAll('[data-reference-type="ref"]');for(const e of I){const i=document.getElementById(e.getAttribute("data-reference"));if(i){const s=i.querySelector("strong, em");s&&s.textContent&&(e.textContent=s.textContent)}}n.value=null};return X(async()=>{await q(),m()}),d(()=>{n.value&&(clearTimeout(n.value),n.value=null)}),(a,u)=>(D(),H("div",{ref_key:"root",ref:t,class:"math-document",innerHTML:o.body},null,8,w))}}),W=Object.assign(N(z,[["__scopeId","data-v-fac61a0f"]]),{__name:"MathDocument"});export{R as M,$ as T,W as _};
