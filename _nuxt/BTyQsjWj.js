import{_ as R}from"./BSJfUsJC.js";import{_ as $,u as C}from"./BnPoB-xQ.js";import{_ as E}from"./Bm7bFZ1b.js";import{d as F,g as P,h as _,w as S,u as Q,c as n,a as e,b as p,e as h,i as r,j as f,k as b,o as s,l as j,t as T,_ as G}from"./DS-BMl-Q.js";import{L as H}from"./DnVdJYOZ.js";import{D as z}from"./CiUmUwu8.js";import{S as J}from"./Iw-_Zl4Y.js";import{n as O}from"./CN0OyOfN.js";import"./CPegqQBa.js";import"./CPXRV682.js";import"./CFTZFtJl.js";const Y={key:0},I={key:1},K={key:0},M={key:1,class:"mb-0"},U=["textContent"],W={key:2,class:"mt-4"},X={key:0,class:"mb-0"},Z={key:3,class:"mt-4"},ee={key:0,class:"mb-0"},te={key:4,class:"mt-4"},se={key:0,class:"mb-0"},oe={key:2},fe=F({__name:"recherche",async setup(ne){let o,a;const m=P().query.requete?.toString(),D=_(()=>m?O(m):".*"),{status:V,data:w}=([o,a]=S(()=>C("/_api/latex/lecons/index.json","$LDyjGmkFaG")),o=await o,a(),o),{status:A,data:B}=([o,a]=S(()=>C("/_api/latex/developpements/index.json","$dtHTJ0xi9j")),o=await o,a(),o),{status:L,data:q}=([o,a]=S(()=>C("/_api/latex/fiches/index.json","$_t-DYBAPaC")),o=await o,a(),o),y=g=>{const t=[];if(!g.value)return t;for(const x of g.value){const k=RegExp(D.value,"ig"),c=x;k.test(c["page-name-search"])&&t.push(c)}return t},l=_(()=>y(w)),u=_(()=>y(B)),i=_(()=>y(q)),v=_(()=>l.value.length===0&&u.value.length===0&&i.value.length===0);return Q({title:"Recherche"}),(g,t)=>{const x=R,k=$,c=E,N=G;return s(),n("div",null,[e(V)==="pending"||e(A)==="pending"||e(L)==="pending"?(s(),n("div",Y,[p(x)])):e(l)&&e(u)&&e(i)?(s(),n("div",I,[t[5]||(t[5]=h("h2",null,"Recherche",-1)),e(v)?(s(),n("p",K," Votre recherche n'a donné aucun résultat. ")):(s(),n("p",M,[p(k,{fallback:"Voici les résultats pour votre recherche."},{default:f(()=>[t[0]||(t[0]=j(" Voici les résultats pour votre recherche de ",-1)),h("q",{textContent:T(e(m)&&e(m).length>0?e(m):"Tout")},null,8,U),t[1]||(t[1]=j(". ",-1))]),_:1})])),e(l)&&!e(v)?(s(),n("div",W,[t[2]||(t[2]=h("h3",null,"Leçons",-1)),e(l).length===0?(s(),n("p",X," Aucun plan de leçon trouvé pour cette recherche. ")):r("",!0),e(l).length>0?(s(),b(c,{key:1,"input-id":"lesson-search-field",items:e(l)},{default:f(d=>[p(H,{lesson:d.item},null,8,["lesson"])]),_:1},8,["items"])):r("",!0)])):r("",!0),e(u)&&!e(v)?(s(),n("div",Z,[t[3]||(t[3]=h("h3",null,"Développements",-1)),e(u).length===0?(s(),n("p",ee," Aucun développement trouvé pour cette recherche. ")):r("",!0),e(u).length>0?(s(),b(c,{key:1,"input-id":"development-search-field",items:e(u)},{default:f(d=>[p(z,{development:d.item},null,8,["development"])]),_:1},8,["items"])):r("",!0)])):r("",!0),e(i)&&!e(v)?(s(),n("div",te,[t[4]||(t[4]=h("h3",null,"Fiches",-1)),e(i).length===0?(s(),n("p",se," Aucune fiche trouvée pour cette recherche. ")):r("",!0),e(i).length>0?(s(),b(c,{key:1,"input-id":"sheet-search-field",items:e(i)},{default:f(d=>[p(J,{sheet:d.item},null,8,["sheet"])]),_:1},8,["items"])):r("",!0)])):r("",!0)])):(s(),n("div",oe,[p(N,{error:"500"})]))])}}});export{fe as default};
